<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday ‚ù§Ô∏è</title>

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,"Poppins",Arial,sans-serif;}
    body{min-height:100vh;overflow-x:hidden;background:#0b0b0b;color:#fff;}

    .page{
      min-height:100vh;
      display:none;
      align-items:center;
      justify-content:center;
      padding:22px;
      position:relative;
      overflow:hidden;
    }
    .page.active{display:flex;animation:fadeIn .6s ease;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

    /* Buttons */
    .btn{
      border:none;
      padding:12px 18px;
      border-radius:16px;
      cursor:pointer;
      font-weight:800;
      background:#fff;
      color:#111;
      transition:.25s ease;
    }
    .btn:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 12px 22px rgba(0,0,0,0.25);}
    .btnDark{background:#111;color:#fff;}

    .navBtns{
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
      margin-top:14px;
      z-index:5;
      position:relative;
    }

    /* =========================
       MUSIC BUTTON
       ========================= */
    .musicBtn{
      position:fixed;
      bottom:16px;
      right:16px;
      z-index:200;
      border:none;
      padding:10px 14px;
      border-radius:16px;
      font-weight:900;
      cursor:pointer;
      background: rgba(255,255,255,0.16);
      border:1px solid rgba(255,255,255,0.18);
      color:#fff;
      backdrop-filter: blur(10px);
      transition: 0.2s ease;
    }
    .musicBtn:hover{transform: translateY(-2px) scale(1.02);}
    .musicBtn small{display:block;opacity:0.75;font-weight:700;font-size:0.72rem;margin-top:2px;}

    /* =========================
       PASSWORD PAGE
       ========================= */
    .passPage{
      background: radial-gradient(circle at top, rgba(255,0,0,0.20), transparent 60%),
                  linear-gradient(180deg,#050505,#1b0000);
    }
    .passCard{
      width:100%;
      max-width:620px;
      text-align:center;
      padding:22px;
      border-radius:22px;
      background:rgba(255,255,255,0.08);
      border:1px solid rgba(255,255,255,0.18);
      box-shadow:0 18px 55px rgba(0,0,0,0.35);
      backdrop-filter:blur(10px);
      position:relative;
      z-index:5;
      transition: transform .2s ease;
    }
    .passCard h1{font-size:2rem;font-weight:1000;margin-bottom:8px;}
    .passCard p{opacity:0.9;margin-bottom:16px;line-height:1.6;}
    .passRow{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;}
    .passInput{
      width:100%;
      max-width:320px;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.18);
      outline:none;
      background: rgba(0,0,0,0.25);
      color:#fff;
      font-weight:800;
      font-size:1rem;
    }
    .passHint{margin-top:12px;font-size:0.95rem;opacity:0.75;}
    .errorMsg{margin-top:10px;color:#ffd6d6;font-weight:900;display:none;}
    .shake{animation: shake 0.35s ease;}
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-8px)}
      40%{transform:translateX(8px)}
      60%{transform:translateX(-6px)}
      80%{transform:translateX(6px)}
    }

    /* =========================
       PAGE 1: CURTAINS + EFFECTS
       ========================= */
    .curtain{
      background: linear-gradient(180deg, #7a0000, #b10000, #4a0000);
    }

    .curtainLeft,.curtainRight{
      position:absolute;
      top:0;
      height:100%;
      width:55%;
      background:
        repeating-linear-gradient(
          90deg,
          rgba(0,0,0,0.25) 0px,
          rgba(0,0,0,0.25) 18px,
          rgba(255,255,255,0.12) 30px
        );
      opacity:0.95;
      z-index:1;
      transition: transform 1.2s cubic-bezier(.2,.9,.2,1);
    }
    .curtainLeft{
      left:0;
      box-shadow: inset -18px 0 45px rgba(0,0,0,0.6);
      transform: translateX(0);
    }
    .curtainRight{
      right:0;
      box-shadow: inset 18px 0 45px rgba(0,0,0,0.6);
      transform: translateX(0);
    }

    .curtain.opening .curtainLeft{transform: translateX(-110%);}
    .curtain.opening .curtainRight{transform: translateX(110%);}

    .spotlight{
      position:absolute;
      inset:0;
      z-index:1;
      background:
        radial-gradient(circle at 50% 35%, rgba(255,255,255,0.18), transparent 55%),
        radial-gradient(circle at 20% 20%, rgba(255,215,215,0.10), transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255,215,215,0.10), transparent 50%);
      pointer-events:none;
      animation: glowPulse 3.2s ease-in-out infinite;
    }
    @keyframes glowPulse{0%,100%{opacity:0.85;}50%{opacity:1;}}

    .rope{
      position:absolute;
      top:0;
      left:50%;
      transform: translateX(-50%);
      width:6px;
      height:100%;
      background: rgba(255,255,255,0.28);
      z-index:2;
      opacity:0.55;
      box-shadow: 0 0 25px rgba(255,255,255,0.12);
      pointer-events:none;
    }
    .rope::after{
      content:"üéÄ";
      position:absolute;
      top:28%;
      left:50%;
      transform: translateX(-50%);
      font-size:28px;
      opacity:0.95;
    }

    .sparkLayer{
      position:absolute;
      inset:0;
      z-index:1;
      pointer-events:none;
      background:
        radial-gradient(circle at 15% 60%, rgba(255,255,255,0.10), transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08), transparent 45%),
        radial-gradient(circle at 40% 20%, rgba(255,255,255,0.06), transparent 40%);
      filter: blur(0.3px);
    }

    .curtainCenter{
      width:100%;
      max-width:720px;
      text-align:center;
      position:relative;
      z-index:3;
      padding:26px;
      border-radius:22px;
      background: rgba(0,0,0,0.35);
      border:1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,0.45);
      animation: pop 0.8s ease;
      transition: transform .25s ease;
    }
    @keyframes pop{from{transform:translateY(18px);opacity:0}to{transform:translateY(0);opacity:1}}

    .title{font-size:2.25rem;font-weight:900;margin-bottom:10px;letter-spacing:.5px;}
    .title span{color:#ffd6d6;text-shadow:0 6px 18px rgba(0,0,0,0.4);}
    .subtitle{font-size:1rem;opacity:.92;margin-bottom:10px;}
    .miniHint{opacity:0.9;font-weight:700;margin-bottom:16px;letter-spacing:0.4px;}

    /* =========================
       PAGE 2: LETTER + TYPEWRITER
       ========================= */
    .letterPage{background:linear-gradient(180deg,#141414,#0c0c0c);}
    .letterWrap{width:100%;max-width:820px;position:relative;z-index:2;}

    .letterCard{
      background:#f8f1e5;color:#1a1a1a;border-radius:18px;padding:22px;
      box-shadow:0 20px 60px rgba(0,0,0,0.4);
      border:2px solid rgba(0,0,0,0.10);
      position:relative;overflow:hidden;
    }
    .letterCard::before{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(circle at top left, rgba(0,0,0,0.06), transparent 40%),
        repeating-linear-gradient(0deg, rgba(0,0,0,0.03) 0px, rgba(0,0,0,0.03) 2px, transparent 18px);
      pointer-events:none;opacity:.8;
    }

    .letterHead{
      display:flex;justify-content:space-between;align-items:center;gap:12px;
      margin-bottom:12px;position:relative;z-index:2;flex-wrap:wrap;
    }
    .letterHead h2{font-size:1.4rem;font-weight:900;}
    .stamp{
      background:#b10000;color:#fff;padding:8px 12px;border-radius:12px;
      font-size:.85rem;font-weight:800;box-shadow:0 10px 20px rgba(0,0,0,0.25);
    }

    .letterText{
      position:relative;
      z-index:2;
      font-size:1.05rem;
      line-height:1.75;
      white-space:pre-line;
      margin-top:8px;
      min-height: 240px;
    }
    .caret{
      display:inline-block;
      width:10px;
      border-right: 3px solid rgba(0,0,0,0.65);
      animation: blink 0.7s infinite;
      margin-left:2px;
    }
    @keyframes blink{50%{border-right-color: transparent;}}

    .letterFooter{position:relative;z-index:2;margin-top:16px;font-weight:800;}

    /* =========================
       PAGE 3: ENVELOPE MEMORIES (PORTRAIT FIX)
       ========================= */
    .memoriesPage{
      background: radial-gradient(circle at top, rgba(255,0,0,0.15), transparent 55%),
                  linear-gradient(180deg, #0b0b0b, #050505);
    }
    .memCard{
      width:100%;
      max-width:980px;
      background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.15);
      backdrop-filter:blur(12px);
      border-radius:22px;
      padding:18px;
      box-shadow:0 18px 55px rgba(0,0,0,0.35);
      position:relative;
      z-index:2;
    }
    .memTitle{text-align:center;font-size:1.8rem;font-weight:900;margin-bottom:6px;}
    .memSub{text-align:center;opacity:.85;margin-bottom:14px;}

    .envelopeGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    @media(max-width:820px){.envelopeGrid{grid-template-columns: repeat(2, 1fr);}}
    @media(max-width:520px){.envelopeGrid{grid-template-columns: 1fr;}}

    .envBox{
      background: rgba(255,255,255,0.07);
      border:1px solid rgba(255,255,255,0.15);
      border-radius:22px;
      padding:14px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.35);
      cursor:pointer;
      transition: 0.25s ease;
      position:relative;
      overflow:hidden;
    }
    .envBox:hover{transform: translateY(-2px) scale(1.01);}

    .envArt{
      width:100%;
      height:140px;
      border-radius:18px;
      background: rgba(0,0,0,0.25);
      border:1px solid rgba(255,255,255,0.14);
      position:relative;
      overflow:hidden;
    }
    .envTop{
      position:absolute;
      top:-1px; left:-1px; right:-1px;
      height:65%;
      background: rgba(255,255,255,0.12);
      clip-path: polygon(0 0, 100% 0, 100% 45%, 50% 100%, 0 45%);
      transform-origin: top center;
      transition: 0.55s cubic-bezier(.2,.9,.2,1);
    }
    .envBottom{
      position:absolute;
      bottom:0; left:0; right:0;
      height:60%;
      background: rgba(255,255,255,0.06);
      clip-path: polygon(0 30%, 50% 0%, 100% 30%, 100% 100%, 0 100%);
    }
    .envStamp{
      position:absolute;
      right:12px;
      bottom:12px;
      width:38px;height:38px;
      border-radius:12px;
      background: linear-gradient(180deg, #ff6b6b, #a70000);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      box-shadow: 0 14px 30px rgba(0,0,0,0.35);
      border:1px solid rgba(255,255,255,0.18);
    }

    .envLabel{margin-top:10px;font-weight:900;opacity:0.95;text-align:center;}
    .envHint{margin-top:4px;font-size:0.92rem;opacity:0.75;text-align:center;}

    .envBox.opened .envTop{
      transform: rotateX(155deg);
      opacity:0.55;
    }

    /* Memory modal */
    .memoryModal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.88);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:80;
      padding:18px;
    }
    .memoryModal.active{display:flex; animation: fadeIn 0.25s ease;}

    .memoryCard{
      width:100%;
      max-width:900px;
      border-radius:24px;
      overflow:hidden;
      background: rgba(255,255,255,0.10);
      border:1px solid rgba(255,255,255,0.18);
      box-shadow: 0 25px 75px rgba(0,0,0,0.55);
      backdrop-filter: blur(12px);
      position:relative;
    }

    .memoryTopBar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 14px;
      background: rgba(0,0,0,0.35);
      border-bottom:1px solid rgba(255,255,255,0.14);
      font-weight:900;
    }

    .memoryClose{
      border:none;
      background: rgba(255,255,255,0.16);
      border:1px solid rgba(255,255,255,0.20);
      color:#fff;
      padding:8px 12px;
      border-radius:14px;
      font-weight:900;
      cursor:pointer;
    }

    .memoryBody{
      display:grid;
      grid-template-columns: 1.05fr 0.95fr;
      background: rgba(0,0,0,0.25);
    }
    @media(max-width:820px){.memoryBody{grid-template-columns: 1fr;}}

    .memoryImg{
      background:#000;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
    }
    .memoryImg img{
      width:100%;
      height:70vh;
      object-fit:contain;
      display:block;
      border-radius:18px;
      background:#000;
    }

    .memoryText{
      padding:16px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:10px;
    }
    .memoryText h3{font-size:1.35rem;font-weight:1000;margin-bottom:4px;}
    .memoryText p{
      opacity:0.92;
      line-height:1.7;
      font-size:1.02rem;
      white-space:pre-line;
    }

    .tip{text-align:center;opacity:.8;font-size:.95rem;margin-top:12px;}

    /* PAGE 4 */
    .endPage{background:linear-gradient(180deg,#1b0000,#050505);}
    .endCard{
      width:100%;
      max-width:760px;
      text-align:center;
      padding:22px;
      border-radius:22px;
      background:rgba(255,255,255,0.08);
      border:1px solid rgba(255,255,255,0.18);
      box-shadow:0 18px 55px rgba(0,0,0,0.35);
      backdrop-filter:blur(12px);
      position:relative;
      z-index:2;
    }
    .endCard h2{font-size:1.8rem;font-weight:900;margin-bottom:10px;}
    .endCard p{font-size:1.05rem;line-height:1.7;opacity:.95;}

    .heart{
      position:fixed;
      bottom:-30px;
      font-size:18px;
      animation: floatUp linear forwards;
      opacity:.85;
      z-index:1;
      pointer-events:none;
    }
    @keyframes floatUp{
      from{transform:translateY(0) translateX(0);opacity:.9;}
      to{transform:translateY(-110vh) translateX(35px);opacity:0;}
    }

    .confetti{
      position:fixed;
      top:-20px;
      width:10px;
      height:14px;
      z-index:40;
      opacity:0.9;
      pointer-events:none;
      animation: confettiFall linear forwards;
    }
    @keyframes confettiFall{
      from{transform: translateY(0) rotate(0deg);}
      to{transform: translateY(120vh) rotate(540deg);}
    }
  </style>
</head>

<body>

  <!-- üé∂ MUSIC -->
  <audio id="bgMusic" loop>
    <source src="song.mp3" type="audio/mpeg">
  </audio>

  <button class="musicBtn" onclick="toggleMusic()">
    üé∂ Music
    <small id="musicState">OFF</small>
  </button>

  <!-- ‚úÖ PASSWORD PAGE -->
  <section class="page passPage active" id="passPage">
    <div class="passCard" id="passCard">
      <h1>üîí Private Surprise</h1>
      <p>This little website opens only with the secret password üíñ</p>

      <div class="passRow">
        <input class="passInput" id="passInput" type="password" placeholder="Enter password..." />
        <button class="btn" onclick="checkPassword()">Unlock ‚ûú</button>
      </div>

      <div class="errorMsg" id="errorMsg">Wrong password üò≠ try again</div>
      <div class="passHint">Hint: It‚Äôs something special between you both ‚ú®</div>
    </div>
  </section>

  <!-- MEMORY MODAL -->
  <div class="memoryModal" id="memoryModal" onclick="closeMemoryModal()">
    <div class="memoryCard" onclick="event.stopPropagation()">
      <div class="memoryTopBar">
        <div id="memoryTitle">Memory</div>
        <button class="memoryClose" onclick="closeMemoryModal()">‚úï Close</button>
      </div>

      <div class="memoryBody">
        <div class="memoryImg">
          <img id="memoryImg" src="" alt="memory">
        </div>
        <div class="memoryText">
          <h3 id="memoryHeading">üíñ</h3>
          <p id="memoryCaption"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- PAGE 1 -->
  <section class="page curtain" id="p1">
    <div class="curtainLeft"></div>
    <div class="curtainRight"></div>

    <div class="spotlight"></div>
    <div class="rope"></div>
    <div class="sparkLayer"></div>

    <div class="curtainCenter" id="p1Card">
      <div class="title">Happy Birthday to my <span>Favorite Person</span> üéÇ‚ù§Ô∏è</div>
      <div class="subtitle">A small little surprise made only for you ‚ú®</div>
      <div class="miniHint">Tap to open the curtains üé≠</div>

      <button class="btn" onclick="openCurtainAndGo()">Open the Surprise ‚ûú</button>
    </div>
  </section>

  <!-- PAGE 2 -->
  <section class="page letterPage" id="p2">
    <div class="letterWrap">
      <div class="letterCard">
        <div class="letterHead">
          <h2>üíå A Letter For You</h2>
          <div class="stamp" id="dateText">26/12/2026</div>
        </div>

        <div class="letterText" id="typedLetter"></div>

        <div class="letterFooter">‚Äî <span id="fromName">Nafy</span> üíñ</div>
      </div>

      <div class="navBtns">
        <button class="btn btnDark" onclick="goTo('p1')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p3')">Memories ‚ûú</button>
      </div>
    </div>
  </section>

  <!-- PAGE 3 -->
  <section class="page memoriesPage" id="p3">
    <div class="memCard">
      <div class="memTitle">üíå Open Your Memories üíå</div>
      <div class="memSub">Click each envelope to reveal a moment ‚ù§Ô∏è</div>

      <div class="envelopeGrid" id="envelopeGrid"></div>

      <div class="tip">
        Upload 6 photos named exactly:<br>
        <b>photo1.jpg, photo2.jpg, photo3.jpg, photo4.jpg, photo5.jpg, photo6.jpg</b>
      </div>

      <div class="navBtns" style="margin-top:16px;">
        <button class="btn btnDark" onclick="goTo('p2')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p4')">Final Message ‚ûú</button>
      </div>
    </div>
  </section>

  <!-- PAGE 4 -->
  <section class="page endPage" id="p4">
    <div class="endCard">
      <h2>üíñ One Last Thing‚Ä¶</h2>
      <p id="endMsg">
        You will always be special to me ‚ù§Ô∏è<br><br>
        May your days be full of smiles, peace and love ‚ú®<br><br>
        Happy Birthday again üéÇüíñ
      </p>

      <div class="navBtns" style="margin-top:16px;">
        <button class="btn btnDark" onclick="goTo('p3')">‚¨Ö Back</button>
        <button class="btn" onclick="goTo('p1')">Replay üîÅ</button>
      </div>
    </div>
  </section>

  <script>
    /* ‚úÖ PASSWORD */
    const SITE_PASSWORD = "afyy2005"; // ‚úÖ Your password

    /* üé∂ MUSIC */
    let musicOn = false;
    function toggleMusic(){
      const m = document.getElementById("bgMusic");
      const label = document.getElementById("musicState");

      if(!musicOn){
        m.play().catch(()=>{});
        musicOn = true;
        label.innerText = "ON";
      }else{
        m.pause();
        musicOn = false;
        label.innerText = "OFF";
      }
    }

    function unlockSite(){
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById("p1").classList.add("active");
      burstHearts();

      // ‚úÖ AUTO PLAY MUSIC AFTER UNLOCK TAP
      const m = document.getElementById("bgMusic");
      const label = document.getElementById("musicState");
      m.play().then(()=>{
        musicOn = true;
        label.innerText = "ON";
      }).catch(()=>{});
    }

    function checkPassword(){
      const input = document.getElementById("passInput").value.trim();
      const card = document.getElementById("passCard");
      const err = document.getElementById("errorMsg");

      if(input === SITE_PASSWORD){
        err.style.display = "none";
        unlockSite();
      }else{
        err.style.display = "block";
        card.classList.remove("shake");
        void card.offsetWidth;
        card.classList.add("shake");
      }
    }

    document.getElementById("passInput").addEventListener("keydown",(e)=>{
      if(e.key === "Enter") checkPassword();
    });

    /* Main Website */
    const personName = "Afy";
    const fromName = "Nafy";

    const today = new Date();
    const dd = String(today.getDate()).padStart(2, '0');
    const mm = String(today.getMonth() + 1).padStart(2, '0');
    const yyyy = today.getFullYear();
    document.getElementById("dateText").innerText = dd + "/" + mm + "/" + yyyy;
    document.getElementById("fromName").innerText = fromName;

    const fullLetter = `Dear ${personName},

Happy Birthday ‚ù§Ô∏è
On this special day, I just want to remind you how important you are to me.

You bring peace, happiness, and a kind of warmth I can‚Äôt explain.
Thank you for being you‚Ä¶ for your smile, your heart, and your presence.

No matter what happens, I‚Äôll always pray for you.
May Allah bless you with the happiest life, protect you from every sadness,
and give you everything you deserve.

Always yours,
${fromName}`;

    let typedDone = false;

    function startTypingLetter(){
      if(typedDone) return;
      typedDone = true;

      const box = document.getElementById("typedLetter");
      box.innerHTML = "";

      let i = 0;
      const caret = document.createElement("span");
      caret.className = "caret";
      box.appendChild(caret);

      function type(){
        caret.remove();
        if(i < fullLetter.length){
          box.textContent += fullLetter.charAt(i);
          i++;
          box.appendChild(caret);
          setTimeout(type, 16);
        }else{
          caret.remove();
        }
      }
      setTimeout(type, 250);
    }

    function goTo(pageId){
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(pageId).classList.add("active");
      burstHearts();
      window.scrollTo(0,0);

      if(pageId === "p2") startTypingLetter();
      if(pageId === "p4") startConfetti();
    }

    function openCurtainAndGo(){
      const p1 = document.getElementById("p1");
      p1.classList.add("opening");
      burstHearts();

      const card = document.getElementById("p1Card");
      card.style.transform = "scale(0.98)";
      setTimeout(()=>{ card.style.transform = "scale(1)"; }, 180);

      setTimeout(()=>goTo("p2"), 1200);
    }

    // Floating hearts
    setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = ["‚ù§Ô∏è","üíñ","üíò","‚ú®","üå∏"][Math.floor(Math.random()*5)];
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (3 + Math.random() * 3) + "s";
      heart.style.fontSize = (14 + Math.random()*20) + "px";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(), 6000);
    }, 420);

    function burstHearts(){
      for(let i=0;i<14;i++){
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerText = ["‚ù§Ô∏è","üíñ","‚ú®"][Math.floor(Math.random()*3)];
        heart.style.left = (35 + Math.random() * 30) + "vw";
        heart.style.animationDuration = (2 + Math.random() * 2) + "s";
        heart.style.fontSize = (16 + Math.random()*22) + "px";
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(), 4500);
      }
    }

    /* Envelope memories */
    const memories = [
      { title:"Envelope 1 üíå", heading:"‚ú® A moment I‚Äôll never forget", img:"photo1.jpg",
        caption:"This memory is proof that happiness can be simple‚Ä¶\nand still feel magical ‚ù§Ô∏è" },
      { title:"Envelope 2 üíå", heading:"üå∏ The comfort vibe", img:"photo2.jpg",
        caption:"Some people don‚Äôt just enter your life‚Ä¶\nthey make it feel softer ‚ú®" },
      { title:"Envelope 3 üíå", heading:"üíñ My favourite one", img:"photo3.jpg",
        caption:"If I could pause time,\nI‚Äôd pause it right here ‚ù§Ô∏è" },
      { title:"Envelope 4 üíå", heading:"ü•∫ The sweet smile", img:"photo4.jpg",
        caption:"Your smile is the kind that makes\neverything feel okay ‚ú®" },
      { title:"Envelope 5 üíå", heading:"üåô A peaceful memory", img:"photo5.jpg",
        caption:"Even the quiet moments with you\nfeel like a beautiful story ‚ù§Ô∏è" },
      { title:"Envelope 6 üíå", heading:"üéÄ Forever grateful", img:"photo6.jpg",
        caption:"Thank you for existing.\nThank you for being you üíñ" }
    ];

    const grid = document.getElementById("envelopeGrid");

    memories.forEach((m, idx) => {
      const box = document.createElement("div");
      box.className = "envBox";
      box.innerHTML = `
        <div class="envArt">
          <div class="envTop"></div>
          <div class="envBottom"></div>
          <div class="envStamp">‚ù§</div>
        </div>
        <div class="envLabel">Memory ${idx+1}</div>
        <div class="envHint">Tap to open</div>
      `;
      box.addEventListener("click", () => {
        box.classList.add("opened");
        openMemoryModal(m);
      });
      grid.appendChild(box);
    });

    function openMemoryModal(m){
      document.getElementById("memoryTitle").innerText = m.title;
      document.getElementById("memoryHeading").innerText = m.heading;
      document.getElementById("memoryImg").src = m.img;
      document.getElementById("memoryCaption").innerText = m.caption;
      document.getElementById("memoryModal").classList.add("active");
    }

    function closeMemoryModal(){
      document.getElementById("memoryModal").classList.remove("active");
    }

    // Confetti
    let confettiRunning = false;
    function startConfetti(){
      if(confettiRunning) return;
      confettiRunning = true;

      const colors = ["#ffffff","#ffd6d6","#ff6b6b","#ffdf6b","#7df7ff","#caa6ff"];

      const confettiInterval = setInterval(()=>{
        if(!document.getElementById("p4").classList.contains("active")){
          clearInterval(confettiInterval);
          confettiRunning = false;
          return;
        }
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random()*100 + "vw";
        c.style.animationDuration = (2.7 + Math.random()*2.6) + "s";
        c.style.background = colors[Math.floor(Math.random()*colors.length)];
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), 6000);
      }, 140);

      setTimeout(()=>{
        if(document.getElementById("p4").classList.contains("active")){
          clearInterval(confettiInterval);
          confettiRunning = false;
        }
      }, 3000);
    }
  </script>

</body>
</html>
